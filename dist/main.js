!function(e){var t={};function n(u){if(t[u])return t[u].exports;var o=t[u]={i:u,l:!1,exports:{}};return e[u].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:u})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(u,o,function(t){return e[t]}.bind(null,o));return u},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let u=document.getElementById("btn-update1"),o=document.querySelector("#input3"),a=document.querySelector("#input4"),l=document.querySelector("#input5"),i=(document.querySelector("#modal-content1"),document.querySelector("#myModal1"));const r=new class{constructor(){this.tr=document.querySelector("#t"),this.users=[],this.input=document.querySelector("#input0"),this.input2=document.querySelector("#input1"),this.input3=document.querySelector("#input2")}async getApi(){this.tr.innerHTML+="Loading...";let e=await fetch("http://localhost:3000/users"),t=await e.json();this.users=[...t],this.outputData()}async saveData(){let e=this.users[this.users.length-1].id+1,t=await fetch("http://localhost:3000/users",{method:"POST",body:JSON.stringify({name:this.input.value,username:this.input2.value,email:this.input3.value,id:e}),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await t.json();await this.users.push({name:this.input.value,username:this.input2.value,email:1,id:e}),this.outputData(n)}async updateData(e,t){let n=await fetch(`http://localhost:3000/users/${e}`,{method:"PUT",body:JSON.stringify({name:o.value,username:a.value,email:l.value}),headers:{"Content-type":"application/json; charset=UTF-8"}});await n.json();this.users[t].name=o.value,this.users[t].username=a.value,this.users[t].email=l.value,this.outputData()}outputData(){this.tr.innerHTML="",this.users.forEach(e=>{this.tr.innerHTML+=`\n      <tr>\n        <td>${e.id}</td>\n        <td>${e.name}</td>\n        <td>${e.username}</td>\n        <td>${e.email}</td>\n        <td><button class="btn btn-primary" id="btn-update" value="${e.id}">Update</button></td>\n        <td><button class="btn btn-danger" id="btn-delete" value="${e.id}">Delete</button></td>\n      </tr>`});let e=document.querySelectorAll("#btn-update"),t=document.querySelectorAll("#btn-delete"),n=this.users;for(let c=0;c<e.length;c++){function r(t){i.style.display="block",u.id=e[c].value,u.value=c,o.value=t[c].name,a.value=t[c].username,l.value=t[c].email}async function s(t){if(confirm("Are you sure you want to delete this user?")){let n=await fetch(`http://localhost:3000/users/${t[c].id}`,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}});await n.json();t.splice(c,1);e[c].parentElement.parentElement.remove()}}e[c].addEventListener("click",(function(){r(n)})),t[c].addEventListener("click",(function(){s(n)}))}}};r.getApi();const s=document.querySelector("#btn");let c=document.getElementById("myModal"),d=document.getElementById("myModal1"),p=document.getElementsByClassName("close")[0],m=document.getElementsByClassName("close1")[0],y=document.querySelector("#btn-save"),h=document.querySelector("#btn-update1"),f=document.querySelector("#input0"),v=document.querySelector("#input1"),b=document.querySelector("#input2");console.log(s),console.log(c),s.onclick=function(){f.value="",v.value="",b.value="",c.style.display="block"},p.onclick=function(){c.style.display="none"},m.onclick=function(){d.style.display="none"},y.onclick=function(){r.saveData(),c.style.display="none"},h.onclick=function(){r.updateData(h.id,h.value),d.style.display="none"}}]);